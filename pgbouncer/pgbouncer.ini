# pgbouncer/pgbouncer.ini
# PgBouncer configuration file
# Purpose: Connection pooling for PostgreSQL to reduce server load
# Optimized for 2 Core CPU + 4GB RAM

[databases]
crypto_tracker_db = host=46.62.216.158 port=5432 dbname=crypto_tracker_db user=Abhishek.vaghasiya2016@gmail.com password=Abhishek.vaghasiya2016

[pgbouncer]
# Listen address and port
listen_addr = 0.0.0.0
listen_port = 5432

# Authentication
auth_type = md5
auth_file = /etc/pgbouncer/userlist.txt

# Pool settings (Optimized for low resource usage)
pool_mode = transaction
max_client_conn = 50
default_pool_size = 10
reserve_pool_size = 3
min_pool_size = 5

# Server settings
server_reset_query = DISCARD ALL
server_lifetime = 3600
server_idle_timeout = 600

# Performance tuning
server_check_delay = 30
server_check_query = SELECT 1

# Logging (Reduced verbosity)
log_connections = 0
log_disconnections = 0
log_pooler_errors = 1
verbose = 0

# Stats
stats_period = 60